# Server Configuration
PORT=5000
NODE_ENV=production
HOST=0.0.0.0
ALLOWED_ORIGINS=https://aurikrex.tech,https://www.aurikrex.tech

# MongoDB Atlas Configuration
# Get your connection string from MongoDB Atlas dashboard
# IMPORTANT: Use MONGO_URI (not MONGODB_URI) - this is the expected variable name
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/aurikrex-academy?retryWrites=true&w=majority
MONGO_DB_NAME=aurikrex-academy

# Logging Configuration
LOG_LEVEL=debug
LOG_FILE_PATH=logs/server.log

# Security - JWT Configuration
# Generate a secure random string (minimum 32 characters)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
ACCESS_TOKEN_EXPIRY=1h
REFRESH_TOKEN_EXPIRY=7d

# Rate Limiting (Optional)
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ============================================
# AI SERVICE CONFIGURATION (REQUIRED)
# ============================================
# Smart AI Model Router with PRIMARY + FALLBACK:
#
# PRIMARY: OpenRouter (4 FREE models - NO EXPIRY - with smart routing)
#   - Simple → Google Gemma 3 2B (FAST, 32K context)
#   - Balanced → Qwen 2.5 32B (GENERAL, 256K context)  
#   - Complex → Qwen3 Next 80B (SMART, 262K context)
#   - Coding → Moonshot Kimi K2 (EXPERT, 128K context)
#
# FALLBACK: Groq API (if OpenRouter completely fails)
#   - Uses: Mixtral 8x7B (free)
#
# ✅ 100% FREE - All models have $0/M input & output
# ✅ NO EXPIRY DATES - Permanent free access
# ✅ One API Key - Manages all 4 models seamlessly
#
# Get your OpenRouter API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your_openrouter_api_key_here

# Get your Groq API key from: https://console.groq.com/keys
GROQ_API_KEY=gsk_your_groq_api_key_here

# ============================================
# LEGACY AI KEYS (Optional - kept for backward compatibility)
# ============================================
# These are no longer the primary AI providers but are kept
# for backward compatibility if you still need them.
#
# Google Gemini API Keys (Legacy - Free Tier)
# Get your keys from: https://makersuite.google.com/app/apikey
# GEMINI_API_KEY_1=your_gemini_api_key_1_here
# GEMINI_API_KEY_2=your_gemini_api_key_2_here
# GEMINI_API_KEY_3=your_gemini_api_key_3_here

# OpenAI API Keys (Legacy - Paid)
# Get your keys from: https://platform.openai.com/api-keys
# OPENAI_API_KEY_1=your_openai_api_key_1_here
# OPENAI_API_KEY_2=your_openai_api_key_2_here

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
# Get these from Google Cloud Console: https://console.cloud.google.com
# 1. Create a project (or select existing)
# 2. Go to APIs & Services > Credentials
# 3. Create OAuth 2.0 Client ID (Web application)
# 4. Add authorized redirect URIs:
#    - https://your-backend-url.ondigitalocean.app/api/auth/google/callback
#    - http://localhost:5000/api/auth/google/callback (for local dev)
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# ============================================
# ADMIN CONFIGURATION
# ============================================
# The Google email address that will have admin access.
# This user will be automatically assigned the 'admin' role when they sign in via Google OAuth.
# Only this email can access the /admin dashboard and perform administrative actions.
# IMPORTANT: Do not hardcode this value in code - always use this environment variable.
ADMIN_GOOGLE_EMAIL=

# ============================================
# MICROSOFT OAUTH CONFIGURATION
# ============================================
# Get these from Azure Portal: https://portal.azure.com
# 1. Go to Azure Active Directory > App registrations
# 2. Create a new registration (or select existing)
# 3. Add redirect URIs under Authentication:
#    - https://your-backend-url.ondigitalocean.app/api/auth/microsoft/callback
#    - http://localhost:5000/api/auth/microsoft/callback (for local dev)
# 4. Create a client secret under Certificates & secrets
# 5. Note: Use 'common' for TENANT_ID to allow any Microsoft account
MICROSOFT_CLIENT_ID=your_microsoft_client_id_here
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_here
MICROSOFT_TENANT_ID=common
MICROSOFT_CALLBACK_URL=https://api.aurikrex.tech/api/auth/microsoft/callback

# ============================================
# GITHUB OAUTH CONFIGURATION
# ============================================
# Get these from GitHub Developer Settings: https://github.com/settings/developers
# 1. Create a new OAuth App
# 2. Set the Authorization callback URL:
#    - https://your-backend-url.ondigitalocean.app/api/auth/github/callback
# 3. Copy the Client ID and generate a Client Secret
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here
GITHUB_CALLBACK_URL=https://api.aurikrex.tech/api/auth/github/callback

# ============================================
# URL CONFIGURATION
# ============================================
# BACKEND_URL: Your backend API URL
# - Production: https://api.aurikrex.tech
# - For local dev: http://localhost:5000
#
# FRONTEND_URL: Your frontend URL  
# - Production: https://aurikrex.tech
# - For local dev: http://localhost:8080
#
# IMPORTANT: These URLs are used for:
# - CORS configuration
# - OAuth callback URLs
# - Email verification links
# - API redirects
BACKEND_URL=https://api.aurikrex.tech
FRONTEND_URL=https://aurikrex.tech

# Optional: Override Google callback URL (defaults to BACKEND_URL/api/auth/google/callback)
# GOOGLE_CALLBACK_URL=https://api.aurikrex.tech/api/auth/google/callback

# ============================================
# CLOUDINARY CONFIGURATION (for file uploads)
# ============================================
# Get these from Cloudinary Dashboard: https://cloudinary.com/console
# 1. Sign up for a free account
# 2. Go to Dashboard to find your Cloud Name, API Key, and API Secret
# 3. These are required for book file uploads to work with CDN distribution
#
# Without these settings, file uploads will use fallback local storage
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret
